---
---
Redovisning kmom06
=========================
Ännu ett tufft kmom avklarat, inget som var supersvårt men det tog ganska lång tid att få ihop. En fördel med att ligga efter är att man slipper gå på en del minor om andra har råkat ut för, till exempel att få till rätt namespace och namn för textfilter-klassen. Så det klarade jag av rätt fort. Sedan blev det lite jobb förstås med parse-metoden. Jag förstod rätt snabbt hur den skulle formuleras, men inte riktigt hur inkommande variabler hängde ihop med filters-arrayen som fanns förberedd i klassen. Det var först när jag började med filter-hanteringen i databasen som jag förstod sammanhanget och kunde få till det med två foreach-loopar. Det har blivit många sådan loopar i detta kmom, vilket var en bra övning. Det blev också lite pyssel med jason_decode, implode och explode för att få till en korrekt filter-array av det som hämtades från databasen.

Min klasstruktur för databasen är väl inget att yvas över. Jag har hela programmet i kontroller-klassen. Jag fick till fungerande routrar rätt enkelt genom att snegla på movie-strukturen. Det som tog tid var väl snarare en del detaljer, som att få till filtren och en bra hantering av likadana slugs. Inget av detta var väldigt svårt och tidskrävande, men det kändes det som att det hela tiden dök upp nya detaljer och buggar som skulle fixas vilket gjorde att tiden rann iväg. Min ursprungliga plan var ändå att skapa någon ny klass, eftersom jag ser att det finns återkommande kod som är väldigt snarlik. Men i takt med att tiden gick beslutade jag att inte göra det, utan bara hålla mig till det som ingick i kraven. Jag tycker ändå att jag har fått till routrarna okej, även om det blev väl mycket kod sammantaget i kontroller-klassen.

Jag tycker att jag allmänt har fått till en bättre kodstruktur i de två senaste kmom jämfört med i spelen. Där räddade jag en del konstigheter genom att skriva nya konstiga metoder för att få det fungera. Under de två senaste kmom tycker jag att jag har fått till en mer stringent kodmassa som jag är rätt nöjd med, även om jag som sagt kunde delat in den i fler klasser. Och det finns helt klart potential att göra det ännu mer stringent, jag ser ju hur mycket återkommande kod det finns. Men det får bli ett annat kmom...

Mitt TIL för detta kmom får vara att jag känner mig mer bekväm med routrarna i kontrollerklassen och att jag har fått bra träning i foreach-loopar.
